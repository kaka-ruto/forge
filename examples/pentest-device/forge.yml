schema_version: "1.0"
name: pentest-device
version: "1.0.0"
architecture: x86_64
template: security

# Buildroot configuration
buildroot_version: stable
kernel_version: "6.1"

# Security and networking tools
packages:
  - nmap             # Network scanning
  - aircrack-ng      # Wireless security testing
  - wireshark        # Packet analysis
  - metasploit       # Exploitation framework
  - john             # Password cracking
  - hashcat          # GPU password cracking
  - sqlmap           # SQL injection testing
  - nikto            # Web server scanner
  - hydra            # Password cracking
  - tcpdump          # Packet capture
  - netcat           # Network utilities
  - python3          # Scripting
  - git              # Version control
  - tmux             # Terminal multiplexer
  - vim              # Text editor
  - busybox          # Core utilities

# Security features
features:
  - ssh-hardening
  - firewall
  - monitoring

# Wireless testing configuration
wireless:
  enabled: true
  monitor_mode: true
  supported_bands: ["2.4GHz", "5GHz", "6GHz"]
  adapters:
    - interface: "wlan0"
      driver: "ath9k"
      capabilities: ["monitor", "injection"]
    - interface: "wlan1"
      driver: "rtl8812au"
      capabilities: ["monitor", "injection", "60GHz"]

# Network configuration
network:
  interfaces:
    - name: eth0
      type: ethernet
      dhcp: true
    - name: wlan0
      type: wireless
      mode: monitor
      channel: auto

  firewall:
    rules:
      - action: accept
        protocol: tcp
        port: 22
        source: "192.168.1.0/24"

# GPU acceleration for password cracking
gpu:
  enabled: true
  drivers: ["nvidia", "amd"]
  memory: "auto"

# Storage configuration
storage:
  persistence: true
  persistence_size: "8G"
  tools_path: "/opt/pentest"
  reports_path: "/root/reports"

# Tool configurations
tools:
  metasploit:
    database: "postgresql"
    auto_start: false
  wireshark:
    interface: "any"
    capture_size: "65535"
  nmap:
    default_timing: "aggressive"
    default_script: "default,vuln"

# USB device support
usb:
  enabled: true
  automount: true
  supported_devices:
    - wireless_adapters
    - usb_ethernet
    - storage_devices

# Persistence and data management
persistence:
  enabled: true
  save_reports: true
  save_configs: true
  save_scripts: true

# Boot configuration
boot:
  timeout: 5
  default_entry: "pentest"
  menu_entries:
    - label: "Pentest Live"
      kernel: "/boot/bzImage"
      append: "console=ttyS0 root=/dev/sda1 rw persistence"
    - label: "Pentest Forensic"
      kernel: "/boot/bzImage"
      append: "console=ttyS0 root=/dev/sda1 rw forensics"

# Security hardening
security:
  disable_ipv6: false
  enable_selinux: false  # Disabled for tool compatibility
  password_policy: "weak"  # Allow weak passwords for testing
  root_login: true

# Development environment
development:
  python_packages:
    - scapy
    - requests
    - beautifulsoup4
    - paramiko
  go_installed: true
  rust_installed: true

# Build configuration
build:
  optimization: performance
  debug: false

# Testing configuration
testing:
  qemu:
    memory: 4096
    network: user
    ports:
      - "2222:22"    # SSH